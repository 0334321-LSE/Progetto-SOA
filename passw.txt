6d7e0406ffff04ffff60ffff0503ffffff05ff0dff50ffffffffff06ff7bff6c


#Il nome del modulo deve esser diverso dal sorgente
obj-m += the_rm.o
obj-m += the_usctm.o
obj-m += the_retprobe.o

the_rm-objs := rm_module.o
the_usctm-objs := ./LinuxSCTFinder/usctm.o ./LinuxSCTFinder/lib/vtpmo.o ./reference_monitor.o
the_retprobe-objs := ./Kprobe/retprobe_module.o ./reference_monitor.o 

all:
	make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules

clean:
	make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean


all:
	$(MAKE) /lib/modules/$(shell uname -r)/build M=$(PWD)/Monitor modules
	$(MAKE) /lib/modules/$(shell uname -r)/build M=$(PWD)/LinuxSCTFinder modules
	$(MAKE) /lib/modules/$(shell uname -r)/build M=$(PWD)/Kprobe modules
	$(MAKE) /lib/modules/$(shell uname -r)/build M=$(PWD)/singlefile-FS modules
	gcc /user/client.c -o client

clean:
	$(MAKE) $(PWD)/singlefile-FS clean
	$(MAKE) $(PWD)/Kprobe clean
	$(MAKE) $(PWD)/LinuxSCFTFinder clean
	$(MAKE) $(PWD)/Monitor clean


install : 
	$(MAKE) Monitor install
	$(MAKE) LinuxSCTFinder install
	$(MAKE) Kprobe install
	$(MAKE) singlefile-FS install
	sudo ./user/client.out